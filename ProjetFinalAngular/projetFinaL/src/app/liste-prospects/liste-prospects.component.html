<!DOCTYPE html>
<html>

<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>

<body>
    <div *ngIf="roleAdmin==1">
        <app-header></app-header>
    </div>

    <div *ngIf="roleAdmin!=1 && roleC==1">
        <app-header-commerciaux></app-header-commerciaux>
    </div>
    <div class="main">

        <h1> Liste prospect</h1>


        <table class="center">
            <tr>
                <td style="background-color: rgb(127, 203, 144)">Id </td>

                <td style="background-color: rgb(127, 203, 144)">Nom </td>
                <td style="background-color: rgb(127, 203, 144)">Prenom </td>
                <td style="background-color: rgb(127, 203, 144)">Mail</td>
                <td style="background-color: rgb(127, 203, 144)">Numero de telephone</td>

                <td style="background-color: rgb(127, 203, 144)">Supprimer</td>
                <td style="background-color: rgb(127, 203, 144)">Modifier</td>
                <td style="background-color: rgb(127, 203, 144)">Contact</td>

                <div *ngIf="roleAdmin!=1 && roleC==1">
                    <td style="background-color: rgb(127, 203, 144)">Appeler</td>
                    <td style="background-color: rgb(127, 203, 144)">Rdv</td>
                </div>

            </tr>


            <tr *ngIf="roleAdmin!=1 && roleC==1">
                <td style="background-color: #F4DCFE" colspan="10">Vos Prospects</td>
            </tr>
            <tr *ngFor="let p of prospectsCommercial">
                <td *ngIf="roleAdmin!=1 && roleC==1">{{p.idProspect}}</td>

                <td *ngIf="roleAdmin!=1 && roleC==1">{{p.nomProspect}}</td>
                <td *ngIf="roleAdmin!=1 && roleC==1">{{p.prenomProspect}}</td>
                <td *ngIf="roleAdmin!=1 && roleC==1">{{p.emailProspect}}</td>
                <td *ngIf="roleAdmin!=1 && roleC==1">{{p.numTel}}</td>

                <td *ngIf="roleAdmin!=1 && roleC==1"><button (click)="supprimer(p.idProspect)">Supprimer</button></td>
                <td *ngIf="roleAdmin!=1 && roleC==1"><button (click)="modifier(p.idProspect)">Modifier</button></td>
                <td *ngIf="roleAdmin!=1 && roleC==1"><button (click)=" afficher(p.idProspect)"> Afficher </button></td>

                <td *ngIf="roleAdmin!=1 && roleC==1"><button (click)=" appeler(p.idProspect)"> Appeler </button></td>
                <td *ngIf="roleAdmin!=1 && roleC==1"><button (click)=" rdv(p.idProspect)"> Rdv </button></td>
            </tr>



            <tr *ngIf="roleAdmin==1">
                <td style="background-color: #F4DCFE" colspan="10">Liste des Prospects</td>
            </tr>
            <tr *ngFor="let p of prospects">
                <td *ngIf="roleAdmin==1">{{p.idProspect}}</td>

                <td *ngIf="roleAdmin==1">{{p.nomProspect}}</td>
                <td *ngIf="roleAdmin==1">{{p.prenomProspect}}</td>
                <td *ngIf="roleAdmin==1">{{p.emailProspect}}</td>
                <td *ngIf="roleAdmin==1">{{p.numTel}}</td>

                <td *ngIf="roleAdmin==1"><button (click)="supprimer(p.idProspect)">Supprimer</button></td>
                <td *ngIf="roleAdmin==1"><button (click)="modifier(p.idProspect)">Modifier</button></td>
                <td *ngIf="roleAdmin==1"><button (click)=" afficher(p.idProspect)"> Afficher </button></td>
            </tr>


            <tr>
                <td style="background-color: #F4DCFE" colspan="10">Prospects Sans Contact</td>
            </tr>
            <tr *ngFor="let p of prospectsSansContact">
                <td>{{p.idProspect}}</td>

                <td>{{p.nomProspect}}</td>
                <td>{{p.prenomProspect}}</td>
                <td>{{p.emailProspect}}</td>
                <td>{{p.numTel}}</td>

                <td><button (click)="supprimer(p.idProspect)">Supprimer</button></td>
                <td><button (click)="modifier(p.idProspect)">Modifier</button></td>
                <td> X </td>
                <div *ngIf="roleAdmin!=1 && roleC==1">
                    <td><button (click)=" appeler(p.idProspect)"> Appeler </button></td>
                    <td><button (click)=" rdv(p.idProspect)"> Rdv </button></td>
                </div>

            </tr>

        </table>

    </div>

</body>

</html>